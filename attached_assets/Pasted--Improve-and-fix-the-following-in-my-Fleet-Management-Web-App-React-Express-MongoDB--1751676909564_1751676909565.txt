üîß Improve and fix the following in my Fleet Management Web App (React + Express + MongoDB):

---

## üö® CURRENT PROBLEMS

1. ‚ùå When I delete a trip log from the **Trip Logs page**, it removes the trip ‚Äî but:
   - The corresponding **driver rent log** (paid or unpaid) is not removed
   - The **weekly trip total** is not updated
   - The **profit/loss calculation** remains outdated
   - Unpaid rent still appears in dashboard even though trip is deleted

---

## ‚úÖ WHAT TO FIX:

### ‚úÖ 1. Clean Delete Logic (Trip Log ‚Üí Cascading Deletion)

When a trip is deleted:
- Also delete the related `DriverRentLog` for the same `driverId` and `tripDate`
- If that rent log was `paid`, remove it from the paid history
- If that rent log was `unpaid`, remove it from the unpaid list too
- Update the weekly trip total of the vehicle
- Re-run the **Weekly Settlement Calculation** to fix profit/loss

### ‚úÖ 2. Weekly Profit/Loss Recalculation (After Deletion)

After deleting any trip:
- Recalculate total trips for that week for the vehicle
- Get new slab from PMV/Letzryd according to reduced trip count
- Calculate:
```ts
companyRent = rentalSlab √ó 7;
driverRent = sum of rent logs for both drivers;
substituteCharges = sum of substitute driver charges;
profit = (driverRent + substituteCharges) - companyRent;
Update the related WeeklySettlement entry with new values
‚úÖ REQUIRED BACKEND UPDATES
üîπ DELETE /api/trips/:tripId
In this endpoint:
Find the trip by _id
Get its driverId, tripDate, vehicleId
Delete the matching rent log:
DriverRentLog.deleteOne({ driverId, date: tripDate })
Delete the Trip itself
Recalculate and update WeeklySettlement for the same vehicleId and weekStart
‚úÖ REQUIRED FRONTEND UPDATES
In Trip Log page:
Add a Delete button with confirmation
On successful delete:
Remove the trip from UI
Remove the corresponding rent card (if shown)
Refresh dashboard‚Äôs vehicle summary and profit/loss
‚úÖ OTHER LOGIC HELPERS TO INCLUDE
getRentalSlab(company: string, totalTrips: number)
Returns daily rate based on trip slab rules
getWeekStart(date: Date)
Utility to find week start (Sunday or Monday based on your logic)
‚úÖ IMPACTED COLLECTIONS:
Trip ‚Üí delete 1 entry
DriverRentLog ‚Üí delete 1 entry for same driver and date
WeeklySettlement ‚Üí recalculate and update profit/loss
üéØ FINAL GOAL:
When a trip is deleted:
‚úÖ Related rent log is also deleted
‚úÖ Profit/Loss is recalculated for that week
‚úÖ Unpaid driver rent is removed from dashboard
‚úÖ Total trips + optimization tip updates accurately
‚úÖ Dashboard is consistent, no stale data